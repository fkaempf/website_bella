<!DOCTYPE html>
<!-- v1 - Dock navigation variant (macOS-style) -->
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Isabella Beckett | Drosophila Connectomics</title>
  <meta name="description" content="Postdoctoral researcher studying Drosophila connectomics and neural circuit analysis at MRC Laboratory of Molecular Biology, Cambridge." />
  <meta name="author" content="Isabella Beckett" />
  <meta name="keywords" content="Isabella Beckett, neuroscience, Drosophila, connectomics, MRC-LMB, Cambridge, University of Cambridge, Jefferis Lab, neural circuits, electron microscopy, circuit analysis, computational neuroscience, behaviour, two-photon imaging, calcium imaging, optogenetics" />
  <meta name="robots" content="index, follow" />

  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:site_name" content="Isabella Beckett" />
  <meta property="og:url" content="https://isabellabeckett.com/" />
  <meta property="og:title" content="Isabella Beckett | Drosophila Connectomics" />
  <meta property="og:description" content="Postdoctoral researcher studying Drosophila connectomics and neural circuit analysis at MRC Laboratory of Molecular Biology, Cambridge." />
  <meta property="og:image" content="https://isabellabeckett.com/assets/profile.jpeg" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Isabella Beckett | Drosophila Connectomics" />
  <meta name="twitter:description" content="Postdoctoral researcher studying Drosophila connectomics and neural circuit analysis at MRC Laboratory of Molecular Biology, Cambridge." />
  <meta name="twitter:image" content="https://isabellabeckett.com/assets/profile.jpeg" />

  <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg" />
  <link rel="canonical" href="https://isabellabeckett.com/" />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Isabella Beckett",
    "url": "https://isabellabeckett.com",
    "image": "https://isabellabeckett.com/assets/profile.jpeg",
    "description": "Postdoctoral researcher studying Drosophila connectomics and neural circuit analysis at MRC Laboratory of Molecular Biology, Cambridge.",
    "jobTitle": "Postdoctoral Researcher",
    "worksFor": {
      "@type": "ResearchOrganization",
      "name": "MRC Laboratory of Molecular Biology",
      "url": "https://www2.mrc-lmb.cam.ac.uk/"
    },
    "affiliation": {
      "@type": "EducationalOrganization",
      "name": "University of Cambridge",
      "url": "https://www.cam.ac.uk/"
    },
    "sameAs": [
      "https://scholar.google.com/citations?user=oLSyhNIAAAAJ",
      "https://orcid.org/0009-0001-3527-6782",
      "https://www.linkedin.com/in/isabella-beckett-53b385149/"
    ]
  }
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://api.semanticscholar.org" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600&family=IBM+Plex+Serif:wght@400;500;600&family=Space+Grotesk:wght@300;400;500;700&display=swap"
    rel="stylesheet" />

  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.170.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.170.0/examples/jsm/"
    }
  }
  </script>

  <style>
    :root {
      --bg-primary: #0f0c29;
      --text-primary: #e8e8e8;
      --text-secondary: #a0a0a0;
      --text-muted: #666;
      --accent: #8ec5fc;
      --accent-secondary: #e0c3fc;
      --transition: 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'IBM Plex Sans', sans-serif;
      color: var(--text-primary);
      background: var(--bg-primary);
      overflow: hidden;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
    }

    .gradient-bg {
      position: fixed; inset: 0; z-index: 0;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e, #0f0c29);
      background-size: 400% 400%;
      animation: gradientShift 12s ease infinite;
    }
    @keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

    .orb { position: fixed; border-radius: 50%; filter: blur(100px); opacity: 0.25; pointer-events: none; z-index: 0; will-change: transform; }
    .orb-1 { width: 500px; height: 500px; background: radial-gradient(circle, #e040fb, #7c4dff); top: -10%; left: -10%; animation: f1 18s ease-in-out infinite; }
    .orb-2 { width: 400px; height: 400px; background: radial-gradient(circle, #00e5ff, #1de9b6); bottom: -15%; right: -10%; animation: f2 22s ease-in-out infinite; }
    .orb-3 { width: 350px; height: 350px; background: radial-gradient(circle, #ff6090, #ff80ab); top: 40%; left: 50%; animation: f3 16s ease-in-out infinite; }
    @keyframes f1 { 0%, 100% { transform: translate(0,0) scale(1) } 33% { transform: translate(120px,80px) scale(1.1) } 66% { transform: translate(-60px,140px) scale(.95) } }
    @keyframes f2 { 0%, 100% { transform: translate(0,0) scale(1) } 33% { transform: translate(-100px,-60px) scale(1.15) } 66% { transform: translate(80px,-120px) scale(.9) } }
    @keyframes f3 { 0%, 100% { transform: translate(0,0) scale(1) } 50% { transform: translate(-140px,-100px) scale(1.08) } }

    .grain {
      position: fixed; inset: 0; z-index: 1; pointer-events: none; opacity: 0.04; contain: strict;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
      background-repeat: repeat; background-size: 200px 200px;
    }
    /* Neuron canvas */
    #neuron-canvas {
      position: fixed; top: 0; left: 0;
      width: 100vw; height: 100vh;
      z-index: 2; pointer-events: none;
    }


    /* Hero */
    .hero {
      position: relative; z-index: 2;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      min-height: 100vh;
      padding: 4rem 2rem 8rem;
      text-align: center;
    }

    .profile-image {
      width: 130px; height: 130px; border-radius: 50%;
      border: 1px solid rgba(255,255,255,0.08);
      object-fit: cover; margin-bottom: 1.5rem;
      opacity: 0; transform: scale(0.9);
      animation: fadeInUp 0.8s ease 0.2s forwards;
    }

    .hero-name {
      font-family: 'Space Grotesk', sans-serif;
      font-weight: 700; font-size: clamp(2.2rem, 4vw, 3.5rem);
      letter-spacing: 0.03em; text-transform: uppercase;
      line-height: 1.1; margin-bottom: 0.6rem; color: #fff;
      opacity: 0; transform: translateY(20px);
      animation: fadeInUp 0.8s ease 0.4s forwards;
    }

    .hero-tagline {
      font-weight: 300; font-size: clamp(0.75rem, 1.2vw, 0.9rem);
      letter-spacing: 0.2em; text-transform: uppercase;
      color: rgba(255,255,255,0.35);
      opacity: 0; transform: translateY(20px);
      animation: fadeInUp 0.8s ease 0.6s forwards;
    }

    @keyframes fadeInUp { to { opacity: 1; transform: translateY(0) scale(1); } }

    /* Dock */
    .dock-container {
      position: fixed;
      bottom: 1.5rem;
      left: 0;
      right: 0;
      z-index: 50;
      display: flex;
      justify-content: center;
      opacity: 0;
      animation: fadeInUp 0.8s ease 1s forwards;
    }

    .dock-panel {
      display: flex;
      align-items: flex-end;
      gap: 0.5rem;
      padding: 0.6rem 0.8rem;
      border-radius: 20px;
      background: rgba(15, 12, 41, 0.6);
      backdrop-filter: blur(20px) saturate(1.3);
      -webkit-backdrop-filter: blur(20px) saturate(1.3);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255,255,255,0.03) inset;
    }

    .dock-item {
      position: relative;
      width: 52px;
      height: 52px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s ease;
      flex-shrink: 0;
    }

    .dock-item:hover {
      background: rgba(142, 197, 252, 0.12);
      border-color: rgba(142, 197, 252, 0.2);
    }

    .dock-item svg {
      width: 24px;
      height: 24px;
      color: rgba(255, 255, 255, 0.6);
      transition: color 0.2s ease;
    }

    .dock-item:hover svg {
      color: rgba(255, 255, 255, 0.9);
    }

    /* Dock label tooltip */
    .dock-label {
      position: absolute;
      bottom: calc(100% + 10px);
      left: 50%;
      transform: translateX(-50%) scale(0.8);
      white-space: nowrap;
      padding: 0.2rem 0.6rem;
      border-radius: 6px;
      background: rgba(15, 12, 41, 0.8);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      font-size: 0.7rem;
      font-weight: 400;
      letter-spacing: 0.08em;
      color: rgba(255, 255, 255, 0.8);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .dock-item:hover .dock-label {
      opacity: 1;
      transform: translateX(-50%) scale(1);
    }

    .social-icons {
      display: flex; gap: 1.2rem;
      margin-top: 1.5rem;
      margin-bottom: 2rem;
      opacity: 0; transform: translateY(10px);
      animation: fadeInUp 0.8s ease 0.8s forwards;
    }
    .social-icons a {
      color: rgba(255,255,255,0.3);
      transition: color 0.3s ease, transform 0.3s ease;
      display: flex; align-items: center;
    }
    .social-icons a:hover {
      color: rgba(142, 197, 252, 0.9);
      transform: translateY(-2px);
    }
    .social-icons svg { width: 18px; height: 18px; }

    /* Popup styles */
    .popup-overlay {
      position: fixed; inset: 0; z-index: 100;
      display: flex; align-items: center; justify-content: center;
      background: transparent;
      visibility: hidden; pointer-events: none;
      transition: visibility 0s linear 0.4s;
    }
    .popup-overlay.active { visibility: visible; pointer-events: auto; transition: visibility 0s linear 0s; }

    .popup {
      width: 90%; max-width: 620px; max-height: 75vh; overflow-y: auto;
      border-radius: 28px; padding: 2.5rem; position: relative;
      background-color: rgba(15, 12, 41, 0.3);
      background-image: linear-gradient(135deg,
        rgba(255,255,255,0.06) 0%, rgba(142,197,252,0.04) 30%,
        rgba(224,195,252,0.04) 60%, rgba(255,255,255,0.06) 100%);
      backdrop-filter: blur(40px) saturate(1.6) brightness(1.1);
      -webkit-backdrop-filter: blur(40px) saturate(1.6) brightness(1.1);
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow:
        0 0 0 1px rgba(255,255,255,0.06) inset, 0 1px 0 0 rgba(255,255,255,0.1) inset,
        0 -1px 0 0 rgba(255,255,255,0.02) inset,
        0 8px 40px rgba(0,0,0,0.35), 0 0 120px rgba(142,197,252,0.06), 0 0 60px rgba(224,195,252,0.04);
      transform: scale(0.95) translateY(10px); opacity: 0;
      transition: transform 0.4s cubic-bezier(0.16,1,0.3,1), opacity 0.15s ease;
      will-change: transform, opacity;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }
    .popup-overlay.active .popup { transform: scale(1) translateY(0); opacity: 1; }
    .popup::before {
      content: ''; position: absolute; top: 0; left: 10%; right: 10%; height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), rgba(142,197,252,0.3), rgba(255,255,255,0.2), transparent);
    }
    .popup::-webkit-scrollbar { width: 4px; }
    .popup::-webkit-scrollbar-track { background: transparent; }
    .popup::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 4px; }

    .popup-close {
      position: absolute; top: 1.2rem; right: 1.2rem;
      width: 32px; height: 32px; border-radius: 50%;
      border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05);
      backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
      color: rgba(255,255,255,0.5); cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      font-size: 1rem; transition: all 0.3s ease;
    }
    .popup-close:hover { background: rgba(255,255,255,0.12); color: rgba(255,255,255,0.9); border-color: rgba(255,255,255,0.2); box-shadow: 0 0 12px rgba(142,197,252,0.15); }

    .popup-label { font-size: 0.6rem; font-weight: 500; letter-spacing: 0.25em; text-transform: uppercase; color: var(--accent); margin-bottom: 0.6rem; }

    .popup p { color: var(--text-secondary); font-weight: 300; font-size: 0.9rem; line-height: 1.75; margin-bottom: 1rem; }
    .popup p:last-child { margin-bottom: 0; }
    .popup p a {
      color: var(--accent); text-decoration: none; position: relative;
      background-image: linear-gradient(var(--accent), var(--accent));
      background-size: 0% 1px; background-position: 0 100%; background-repeat: no-repeat;
      transition: background-size 0.4s cubic-bezier(0.16, 1, 0.3, 1), color 0.3s ease;
    }
    .popup p a:hover { background-size: 100% 1px; color: #fff; }

    .pub-item { padding: 1.1rem 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
    .pub-item:last-child { border-bottom: none; }
    .pub-year { font-size: 0.65rem; font-weight: 500; letter-spacing: 0.15em; color: var(--accent); margin-bottom: 0.35rem; }
    .pub-title { font-family: 'IBM Plex Serif', serif; font-weight: 500; font-size: 0.95rem; line-height: 1.5; margin-bottom: 0.35rem; }
    .pub-title a { color: var(--text-primary); text-decoration: none; transition: color var(--transition); }
    .pub-title a:hover { color: var(--accent); }
    .pub-authors { font-size: 0.78rem; font-weight: 300; color: var(--text-muted); margin-bottom: 0.2rem; }
    .pub-authors .me { color: #fff; font-weight: 600; }
    .pub-journal { font-size: 0.78rem; font-style: italic; color: var(--text-muted); }
    .pub-note { font-style: normal; font-size: 0.7rem; color: var(--accent-secondary); }

    .research-block { padding: 1.2rem; border-radius: 12px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); margin-bottom: 0.8rem; }
    .research-block:hover { background: rgba(255,255,255,0.04); }
    .research-block h3 { font-family: 'IBM Plex Serif', serif; font-weight: 500; font-size: 0.95rem; margin-bottom: 0.5rem; }
    .research-block p { font-size: 0.85rem; margin-bottom: 0; }
    .research-tag { display: inline-block; font-size: 0.6rem; font-weight: 500; letter-spacing: 0.1em; text-transform: uppercase; color: var(--accent-secondary); margin-bottom: 0.4rem; }

    .contact-item { display: flex; align-items: center; gap: 0.8rem; padding: 0.7rem 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
    .contact-item:last-child { border-bottom: none; }
    .contact-icon { color: var(--text-muted); flex-shrink: 0; }
    .contact-item a { color: var(--text-secondary); text-decoration: none; font-weight: 300; font-size: 0.88rem; transition: color var(--transition); }
    .contact-item a:hover { color: var(--accent); }

    /* Click hint for publication links */
    .pub-title a { position: relative; }
    .pub-item:first-child .pub-title a::after {
      content: 'click';
      position: absolute;
      bottom: -12px;
      left: 0;
      font-family: 'IBM Plex Sans', sans-serif;
      font-size: 0.5rem;
      font-weight: 500;
      font-style: normal;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--accent);
      opacity: 0;
      transform: translateY(-3px);
      animation: clickHint 10s ease-in-out 3s infinite;
      pointer-events: none;
    }
    .pub-item:first-child .pub-title a::before {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 1px;
      background: linear-gradient(90deg, var(--accent), transparent);
      box-shadow: 0 0 4px rgba(142, 197, 252, 0.3);
      animation: clickHintLine 10s ease-in-out 3s infinite;
      pointer-events: none;
    }
    @keyframes clickHint {
      0%, 90%, 100% { opacity: 0; transform: translateY(-3px); }
      93%, 97% { opacity: 0.7; transform: translateY(0); }
    }
    @keyframes clickHintLine {
      0%, 90%, 100% { width: 0; opacity: 0; }
      93% { width: 40px; opacity: 1; }
      97% { width: 40px; opacity: 1; }
    }

    @media (max-width: 768px) {
      .hero { padding: 3rem 2rem 8rem; }
      .profile-image { width: 100px; height: 100px; }
      .dock-item { width: 44px; height: 44px; border-radius: 12px; }
      .dock-item svg { width: 20px; height: 20px; }
      .popup { width: 95%; max-height: 80vh; padding: 2rem 1.5rem; border-radius: 20px; }
    }
  </style>
</head>

<body>
  <div class="gradient-bg"></div>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="orb orb-3"></div>
  <div class="grain"></div>
  <canvas id="neuron-canvas"></canvas>

  <!-- Hero -->
  <div class="hero">
    <img class="profile-image" src="../assets/profile.jpeg" alt="Isabella Beckett" />
    <h1 class="hero-name">Isabella<br>Beckett</h1>
    <p class="hero-tagline">Drosophila &middot; Neuroscience &middot; Connectomics</p>
    <div class="social-icons">
      <a href="https://scholar.google.com/citations?user=oLSyhNIAAAAJ" target="_blank" rel="noopener" aria-label="Google Scholar">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M5.242 13.769L0 9.5 12 0l12 9.5-5.242 4.269C17.548 11.249 14.978 9.5 12 9.5c-2.977 0-5.548 1.748-6.758 4.269zM12 10a7 7 0 1 0 0 14 7 7 0 0 0 0-14z"/></svg>
      </a>
      <a href="https://orcid.org/0009-0001-3527-6782" target="_blank" rel="noopener" aria-label="ORCID">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zM7.369 4.378a.815.815 0 1 1 0 1.63.815.815 0 0 1 0-1.63zM6.6 7.25h1.538v9.5H6.6v-9.5zm3.846 0h4.154c3.308 0 5 2.223 5 4.75s-1.692 4.75-5 4.75H10.446v-9.5zm1.538 1.385v6.731h2.616c2.385 0 3.462-1.569 3.462-3.365 0-1.797-1.077-3.366-3.462-3.366h-2.616z"/></svg>
      </a>
      <a href="https://www.linkedin.com/in/isabella-beckett-53b385149/" target="_blank" rel="noopener" aria-label="LinkedIn">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
      </a>
      <a href="mailto:placeholder@mrc-lmb.cam.ac.uk" aria-label="Email">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
      </a>
    </div>
  </div>

  <!-- Dock -->
  <div class="dock-container">
    <div class="dock-panel" id="dock-panel">
      <!-- About -->
      <div class="dock-item" data-popup="about">
        <span class="dock-label">About</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="4"/><path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/></svg>
      </div>
      <!-- Publications -->
      <div class="dock-item" data-popup="publications">
        <span class="dock-label">Publications</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
      </div>
      <!-- Research -->
      <div class="dock-item" data-popup="research">
        <span class="dock-label">Research</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      </div>
      <!-- Contact -->
      <div class="dock-item" data-popup="contact">
        <span class="dock-label">Contact</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
      </div>
      <!-- CV -->
      <div class="dock-item" data-popup="cv">
        <span class="dock-label">CV</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
      </div>
    </div>
  </div>

  <!-- Popups (content loaded dynamically from ../content/) -->
  <div class="popup-overlay" id="popup-about">
    <div class="popup">
      <button class="popup-close">&times;</button>
      <p class="popup-label">About</p>
    </div>
  </div>

  <div class="popup-overlay" id="popup-publications">
    <div class="popup">
      <button class="popup-close">&times;</button>
      <p class="popup-label">Publications</p>
    </div>
  </div>

  <div class="popup-overlay" id="popup-research">
    <div class="popup">
      <button class="popup-close">&times;</button>
      <p class="popup-label">Research</p>
    </div>
  </div>

  <div class="popup-overlay" id="popup-contact">
    <div class="popup">
      <button class="popup-close">&times;</button>
      <p class="popup-label">Contact</p>
    </div>
  </div>

  <div class="popup-overlay" id="popup-cv">
    <div class="popup">
      <button class="popup-close">&times;</button>
      <p class="popup-label">Curriculum Vitae</p>
    </div>
  </div>

  <!-- Content loader (markdown + ORCID publications) -->
  <script src="../content/loader.js"></script>

  <script>
    // macOS-style dock magnification
    (function() {
      var panel = document.getElementById('dock-panel');
      var items = panel.querySelectorAll('.dock-item');
      var baseSize = 52;
      var maxSize = 72;
      var distance = 120;

      panel.addEventListener('mousemove', function(e) {
        items.forEach(function(item) {
          var rect = item.getBoundingClientRect();
          var itemCenterX = rect.left + rect.width / 2;
          var dist = Math.abs(e.clientX - itemCenterX);
          var scale;
          if (dist > distance) {
            scale = 1;
          } else {
            var ratio = 1 - (dist / distance);
            scale = 1 + (maxSize / baseSize - 1) * ratio;
          }
          item.style.width = (baseSize * scale) + 'px';
          item.style.height = (baseSize * scale) + 'px';
          item.style.transition = 'width 0.15s ease, height 0.15s ease';
        });
      });

      panel.addEventListener('mouseleave', function() {
        items.forEach(function(item) {
          item.style.width = baseSize + 'px';
          item.style.height = baseSize + 'px';
          item.style.transition = 'width 0.3s ease, height 0.3s ease';
        });
      });
    })();

    // Dock click â†’ popup
    document.querySelectorAll('.dock-item').forEach(function(item) {
      item.addEventListener('click', function() {
        var popupId = 'popup-' + item.dataset.popup;
        document.getElementById(popupId).classList.add('active');
      });
    });

    // Close popups
    document.querySelectorAll('.popup-overlay').forEach(function(ov) {
      ov.addEventListener('click', function(e) { if (e.target === ov) ov.classList.remove('active'); });
    });
    document.querySelectorAll('.popup-close').forEach(function(btn) {
      btn.addEventListener('click', function() { btn.closest('.popup-overlay').classList.remove('active'); });
    });
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        document.querySelectorAll('.popup-overlay.active').forEach(function(ov) { ov.classList.remove('active'); });
      }
    });
  </script>

  <!-- Three.js Neuron -->
  <script type="module">
    import * as THREE from 'three';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

    const canvas = document.getElementById('neuron-canvas');
    const isMobile = () => window.innerWidth <= 768;
    const W = () => window.innerWidth;
    const H = () => window.innerHeight;

    const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
    renderer.setSize(W(), H());
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.setClearColor(0x000000, 0);
    renderer.toneMapping = THREE.ACESFilmicToneMapping;
    renderer.toneMappingExposure = 1.4;

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, W() / H(), 0.1, 5000);
    camera.position.set(0, 0, isMobile() ? 450 : 250);

    scene.add(new THREE.AmbientLight(0x6666aa, 0.8));
    const dirLight = new THREE.DirectionalLight(0xffffff, 1.2);
    dirLight.position.set(1, 1, 1);
    scene.add(dirLight);
    const rimLight = new THREE.DirectionalLight(0x8ec5fc, 0.5);
    rimLight.position.set(-1, -0.5, -1);
    scene.add(rimLight);
    const topLight = new THREE.DirectionalLight(0xe0c3fc, 0.4);
    topLight.position.set(0, 1, 0);
    scene.add(topLight);

    function updateLayout() {
      camera.aspect = W() / H();
      camera.updateProjectionMatrix();
      renderer.setSize(W(), H());
      camera.position.z = isMobile() ? 450 : 250;
      if (neuronGroup) neuronGroup.position.x = isMobile() ? 0 : 25;
    }
    window.addEventListener('resize', updateLayout);

    let neuronGroup = null;
    let neuronMaterial = null;

    const loader = new GLTFLoader();
    loader.load('../assets/neuron.glb', (gltf) => {
      const root = gltf.scene;
      const color = new THREE.Color().setHSL(0.55, 0.6, 0.55);
      const emissive = new THREE.Color().setHSL(0.55, 0.8, 0.25);

      neuronMaterial = new THREE.MeshStandardMaterial({
        color, emissive, emissiveIntensity: 0.8,
        roughness: 0.4, metalness: 0.2,
        transparent: true, opacity: 0.8,
        side: THREE.DoubleSide,
      });

      root.traverse((child) => {
        if (child.isMesh) { child.material = neuronMaterial; child.geometry.computeVertexNormals(); }
      });

      neuronGroup = new THREE.Group();
      neuronGroup.add(root);
      scene.add(neuronGroup);
      neuronGroup.scale.setScalar(0.85);
      neuronMaterial.opacity = 0;
      neuronFadeStart = performance.now() + 1200;
      updateLayout();
    }, undefined, (err) => console.error('GLB load error:', err));

    let mouseX = 0, mouseY = 0;
    document.addEventListener('mousemove', e => {
      mouseX = (e.clientX / window.innerWidth - 0.5) * 2;
      mouseY = (e.clientY / window.innerHeight - 0.5) * 2;
    });

    const clock = new THREE.Clock();
    let neuronFadeStart = Infinity;

    function animate() {
      requestAnimationFrame(animate);
      const t = clock.getElapsedTime();

      if (neuronGroup) {
        neuronGroup.rotation.y += 0.003;
        neuronGroup.rotation.x = Math.sin(t * 0.15) * 0.15;
        neuronGroup.position.y = Math.sin(t * 0.3) * 10;
      }

      if (neuronMaterial && neuronMaterial.opacity < 0.8) {
        const now = performance.now();
        if (now > neuronFadeStart) {
          const elapsed = (now - neuronFadeStart) / 1500;
          neuronMaterial.opacity = Math.min(0.8, elapsed * 0.8);
        }
      }

      camera.position.x += (mouseX * 20 - camera.position.x) * 0.02;
      camera.position.y += (-mouseY * 15 - camera.position.y) * 0.02;
      camera.lookAt(0, 0, 0);

      dirLight.position.set(Math.sin(t * 0.3), Math.cos(t * 0.2), 1).normalize();

      if (neuronMaterial) neuronMaterial.emissiveIntensity = 0.6 + 0.3 * Math.sin(t * 0.5);

      renderer.render(scene, camera);
    }

    animate();
  </script>

</body>
</html>
